package routines;

import com.cronutils.model.Cron;
import com.cronutils.parser.CronParser;
import com.cronutils.model.definition.CronDefinitionBuilder;
import static com.cronutils.model.CronType.QUARTZ;


public class CronExpressionParser {

    /**
     * Parses a CRON expression and provides a human-readable description.
     *
     * @param cronExpression The CRON expression to parse.
     * @return A description of the CRON schedule.
     */
    public static String parseCron(String cronExpression) {
        try {
            // Define a parser for Quartz-style CRON expressions
            CronParser parser = new CronParser(CronDefinitionBuilder.instanceDefinitionFor(QUARTZ));
            Cron cron = parser.parse(cronExpression);
            
            // Build a human-readable description
            return cron.asString();
        } catch (Exception e) {
            // Return error message if parsing fails
            return "Invalid CRON Expression: " + e.getMessage();
        }
    }
}
